<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Festival Planner</title>
  <meta name="description" content="Privacy-first EDM Festival Lineup Planner. Discover, rate and plan festival acts &mdash; no account, no tracking.">

  <script>
    (function () {
      var parts = location.pathname.split("/").filter(Boolean);
      var baseParts = parts.length >= 3 ? parts.slice(0, parts.length - 3) : parts;
      var basePath = "/" + baseParts.join("/");
      if (!basePath.endsWith("/")) basePath += "/";
      var baseEl = document.createElement("base");
      baseEl.href = basePath;
      document.head.appendChild(baseEl);
    })();
  </script>

  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="favicon.ico">
  <meta name="theme-color" content="#2c1a60">

  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Festival Planner">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">

  <meta name="robots" content="index, follow">

  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header class="topbar" id="top">
    <div class="brand">
      <div class="logo">FP</div>
      <div class="brandText">
        <div class="title" data-i18n="app_title">Festival Planner</div>
        <div class="subtitle" data-i18n="disclaimer">Inoffizielles Tool. Angaben k&ouml;nnen sich &auml;ndern. Ma&szlig;geblich sind die Infos des Veranstalters.</div>
      </div>
    </div>

    <div class="controls">
      <div class="ctrl">
        <span data-i18n="language">Sprache</span>
        <select id="langSelect" aria-label="Sprache" class="selectNative" data-custom-select>
          <option value="de">DE</option>
          <option value="en">EN</option>
        </select>
      </div>

      <div class="ctrl">
        <span data-i18n="last_checked">Zuletzt gepr&uuml;ft</span>
        <div class="pill" id="lastCheckedPill">&ndash;</div>
      </div>

      <div class="ctrl">
        <span data-i18n="lineup_status">Line-up Stand</span>
        <div class="pill" id="lastUpdatedPill">&ndash;</div>
      </div>
    </div>

    <button class="menuBtn" id="menuBtn" type="button" aria-label="Men&uuml;" aria-expanded="false">
      <span class="menuIcon" aria-hidden="true"></span>
    </button>
  </header>

  <main class="layout">
    <section class="panel">
      <div class="introCard">
        <div class="introIcon">&#9733;</div>
        <div class="introContent">
          <div class="introTitle" data-i18n="hero_title">Dein pers&ouml;nlicher Tomorrowland-Lineup-Planer.</div>
          <div class="introSubtitle" data-i18n="hero_subtitle">Bewerte DJs, markiere Favoriten und behalte den &Uuml;berblick &uuml;ber dein Festival-Wochenende &ndash; ohne Account, ohne Tracking.</div>
          <div class="introOnboarding muted" data-i18n="hero_onboarding">So funktioniert&rsquo;s: &#11088; DJ bewerten &#8594; &#10084;&#65039; Favoriten markieren &#8594; &#127911; besser vorbereitet ins Festival</div>
        </div>
      </div>

      <div id="errorBox" class="errorBox" hidden></div>

      <div class="toolbar">
        <div class="ctrl searchCtrl">
          <span data-i18n="search">Suche</span>
          <input id="searchInput" type="search" placeholder="Suche nach Artist" />
        </div>
        <div class="ctrl">
          <span data-i18n="day_label">Tag</span>
          <select id="dayFilter" aria-label="Tag" class="selectNative" data-custom-select>
            <option value="all" data-i18n="all_days">Alle Tage</option>
          </select>
        </div>
        <div class="ctrl">
          <span data-i18n="stage_label">B&uuml;hne</span>
          <select id="stageFilter" aria-label="B&uuml;hne" class="selectNative" data-custom-select>
            <option value="all" data-i18n="all_stages">Alle B&uuml;hnen</option>
          </select>
        </div>
        <div class="ctrl">
          <span data-i18n="rating_label">Bewertung</span>
          <select id="ratingFilter" aria-label="Filter" class="selectNative" data-custom-select>
            <option value="all" data-i18n="filter_all">Alle</option>
            <option value="liked" data-i18n="filter_liked">Gef&auml;llt mir</option>
            <option value="maybe" data-i18n="filter_maybe">Vielleicht</option>
            <option value="disliked" data-i18n="filter_disliked">Mag ich nicht</option>
            <option value="unrated" data-i18n="filter_unrated">Unbewertet</option>
          </select>
        </div>
      </div>

      <div id="searchResults" class="searchResults" hidden></div>

      <div class="weekendTabs" role="tablist" aria-label="Weekends">
        <button class="tabBtn isActive" data-weekend="W1" role="tab" aria-selected="true" data-i18n="weekend_1">Weekend 1</button>
        <button class="tabBtn" data-weekend="W2" role="tab" aria-selected="false" data-i18n="weekend_2">Weekend 2</button>
      </div>

      <section class="weekendPanel isActive" id="panelW1" data-weekend="W1" role="tabpanel" aria-labelledby="w1Section">
        <div class="weekendHeader">
          <div class="weekendTitle" id="w1Section" data-i18n="weekend_1">Weekend 1</div>
          <div class="ctrl">
            <span data-i18n="snapshot_label">Snapshot</span>
            <select id="snapshotSelectW1" aria-label="Snapshot W1" class="selectNative" data-custom-select></select>
          </div>
        </div>
        <div id="weekendMetaW1" class="weekendMeta"></div>
        <div id="actsListW1" class="list"></div>
      </section>

      <section class="weekendPanel" id="panelW2" data-weekend="W2" role="tabpanel" aria-labelledby="w2Section">
        <div class="weekendHeader">
          <div class="weekendTitle" id="w2Section" data-i18n="weekend_2">Weekend 2</div>
          <div class="ctrl">
            <span data-i18n="snapshot_label">Snapshot</span>
            <select id="snapshotSelectW2" aria-label="Snapshot W2" class="selectNative" data-custom-select></select>
          </div>
        </div>
        <div id="weekendMetaW2" class="weekendMeta"></div>
        <div id="actsListW2" class="list"></div>
      </section>
    </section>

    <aside class="panel side">
      <div id="changesBox" class="card" hidden>
        <div class="cardTitle" data-i18n="weekend_changes_title">&Auml;nderungen Weekend</div>
        <div id="weekendChangesSummary" class="changesSummary"></div>
        <div class="changesHistory">
          <div class="changesHistoryTitle" data-i18n="weekend_changes_history">Verlauf</div>
          <div id="weekendChangesHistory" class="changesHistoryList"></div>
        </div>
      </div>
      
      <div class="card" id="plannerExportBox">
        <div class="cardTitle" data-i18n="planner_note_title">Import & Export</div>
        <div class="changesNoteBody">
          <p data-i18n="planner_note_intro">Hier kannst du deine Ratings exportieren und wieder importieren.</p>
          <div class="exportRow">
            <button class="btn" id="exportRatingsBtn" data-i18n="export_ratings">Ratings exportieren</button>
            <label class="btn" for="importRatingsInput" data-i18n="import_ratings">Ratings importieren</label>
            <input id="importRatingsInput" type="file" accept="application/json" hidden />
          </div>
          <div id="importStatus" class="muted"></div>
        </div>
      </div>

      <div class="card">
        <div class="cardTitle" data-i18n="feedback">Feedback</div>
        <a class="btn" id="feedbackBtn" href="#" target="_blank" rel="noopener noreferrer">GitHub Issues</a>
      </div>

      <div class="card">
        <div class="favHeader">
          <div class="cardTitle" data-i18n="favorites">Favoriten</div>
          <button class="favCountPill" id="favoritesToggle" type="button" aria-pressed="false"></button>
        </div>
        <div class="favPlanNote muted" id="favoritesPlanNote" data-i18n="plan_note">&#128197; Deine Vorbereitung l&auml;uft &ndash; Tagesplanung kommt bald</div>
        <div id="favoritesList" class="favList"></div>
      </div>

      <div class="card">
        <div class="cardTitle" data-i18n="support">Support</div>
        <p class="muted" data-i18n="support_text">Wenn dir Festival Planner hilft, kannst du das Projekt freiwillig unterst&uuml;tzen.</p>
        <a class="btn primary" id="donateBtn" href="#" target="_blank" rel="noopener noreferrer" data-i18n="donate">Spenden</a>
      </div>

      <div class="footerLinks">
        <a href="legal/privacy.html" data-i18n="privacy">Datenschutz</a>
        <a href="legal/imprint.html" data-i18n="imprint">Impressum</a>
      </div>
      <div class="privacyNote muted" id="privacy" data-i18n="privacy_note">Alle Bewertungen und Favoriten werden ausschlie&szlig;lich lokal in deinem Browser gespeichert. Kein Login, keine Cloud, kein Tracking.</div>
    </aside>
  </main>

  <div class="menuOverlay" id="menuOverlay" hidden></div>
  <aside class="menuSheet" id="menuSheet" aria-hidden="true">
    <div class="menuHandle"></div>
    <div class="menuHeader">
      <div class="menuTitle">Men&uuml;</div>
      <button class="menuClose" id="menuCloseBtn" type="button" aria-label="Schlie&szlig;en">&times;</button>
    </div>
    <div class="menuGroup">
      <div class="menuGroupTitle">Navigation</div>
      <button class="menuItem" data-target="#top" type="button">Top</button>
      <button class="menuItem" data-action="weekend" data-weekend="W1" type="button">Weekend 1</button>
      <button class="menuItem" data-action="weekend" data-weekend="W2" type="button">Weekend 2</button>
      <div class="menuSubTitle">Tage</div>
      <div id="menuDayLinks" class="menuDayLinks"></div>
    </div>
    <div class="menuGroup">
      <div class="menuGroupTitle">Ansichten</div>
      <button class="menuItem" data-action="favoritesToggle" type="button">Nur Favoriten</button>
      <button class="menuItem" data-action="searchFocus" type="button">Suche</button>
      <button class="menuItem" data-target="#changesBox" type="button">Changes</button>
    </div>
    <div class="menuGroup">
      <div class="menuGroupTitle">Daten</div>
      <button class="menuItem" data-action="exportRatings" type="button">Ratings exportieren</button>
      <button class="menuItem" data-action="importRatings" type="button">Ratings importieren</button>
    </div>
    <div class="menuGroup">
      <div class="menuGroupTitle">Info</div>
      <button class="menuItem" data-target="#privacy" type="button" data-i18n="privacy">Datenschutz</button>
    </div>
  </aside>

  <div id="actionToast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js").catch(console.error);
    }
  </script>
</body>
</html>

