<!doctype html>
<html lang="de">
<head>
  <!-- Basic metadata + canonical target -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-i18n-key="imprint_redirect_title">Impressum &ndash; Festival Planner</title>
  <link rel="canonical" href="https://festival-planner.org/legal/imprint.html">
  <!-- Instant redirect for legacy path -->
  <meta http-equiv="refresh" content="0; url=/legal/imprint.html">
</head>
<body>
  <!-- Fallback link if meta refresh is blocked -->
  <p data-i18n-key="imprint_redirect_text" data-i18n-html>Weiterleitung zum Impressum: <a href="/legal/imprint.html">/legal/imprint.html</a></p>

  <script>
    (function () {
      const I18N = {
        de: {
          imprint_redirect_title: "Impressum \u2013 Festival Planner",
          imprint_redirect_text: "Weiterleitung zum Impressum: <a href=\"/legal/imprint.html\">/legal/imprint.html</a>"
        },
        en: {
          imprint_redirect_title: "Imprint \u2013 Festival Planner",
          imprint_redirect_text: "Redirecting to the imprint: <a href=\"/legal/imprint.html\">/legal/imprint.html</a>"
        }
      };

      const params = new URLSearchParams(location.search);
      const stored = localStorage.getItem("fp_lang");
      let lang = (params.get("lang") || stored || document.documentElement.lang || "de").toLowerCase();
      if (!I18N[lang]) lang = "de";

      document.documentElement.lang = lang;
      localStorage.setItem("fp_lang", lang);
      document.querySelectorAll("[data-i18n-key]").forEach((el) => {
        const key = el.getAttribute("data-i18n-key");
        const value = I18N[lang][key];
        if (value === undefined) return;
        const attr = el.getAttribute("data-i18n-attr");
        if (attr) {
          el.setAttribute(attr, value);
          return;
        }
        if (el.hasAttribute("data-i18n-html")) {
          el.innerHTML = value;
        } else {
          el.textContent = value;
        }
      });
    })();
  </script>
</body>
</html>
