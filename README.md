# Festival Planner

Privacy-first EDM festival lineup planner for Tomorrowland 2026 (Weekend 1 and 2).

A lightweight, installable Progressive Web App (PWA) that helps you explore the lineup, rate artists locally, and plan your festival days without accounts, tracking, or cloud storage.

---

## Key Features

- Browse Tomorrowland 2026 lineups (W1 / W2)
- Rate artists: Liked / Maybe / Disliked / Reset (unrated)
- Ratings stored locally only (IndexedDB)
- Group Merge (Beta): merge multiple export JSONs locally and analyze group picks
- Quick links to Spotify, Apple Music, YouTube, and SoundCloud
- Device-aware deep links with web fallback (Spotify mobile)
- Optional "Copy DJ name to clipboard" toggle in Play overlay
- Favorites view
- Language support: German / English
- Dark-mode-first, mobile-optimized UI
- Installable as PWA (iOS and Android)
- No login, no tracking, no cookies

---

## Tech Stack

- HTML5 / CSS3 / Vanilla JavaScript
- IndexedDB for local ratings and favorites
- Static JSON lineup data (snapshots, artists, changes)
- Service Worker (minimal, offline-capable)
- Web App Manifest (`manifest.webmanifest`)
- GitHub Pages (static hosting)

No frameworks, no backend, no external databases.

---

## Project Structure (simplified)

/ (root)
- index.html
- app.util.js
- app.config.js
- app.i18n.js
- app.routing.js
- app.state.js
- app.store.js
- app.data.js
- app.ui.js
- app.main.js
- styles.css
- manifest.webmanifest
- service-worker.js
- data/
  - tomorrowland/2026/
    - snapshots/
    - artists/
    - changes/
- i18n/
- icons/
- tomorrowland/2026/
  - w1/
  - w2/
- privacy/
- legal/
- impressum/
- about/
- changelog/
- scripts/
- README.md

---

## Supported Events

- Tomorrowland Belgium 2026
  - Weekend 1
  - Weekend 2

The structure is prepared for future festivals and years.

---

## Group Merge (Beta)

Local-only group analysis for multiple export JSONs:

- Route: `/tomorrowland/2026/w1/group/` and `/tomorrowland/2026/w2/group/`
- Add multiple export JSONs, name each person, then analyze
- Shows Top Picks and Conflicts (polarizing artists)
- No uploads, no tracking, everything stays on device

---

## Lineup Data Disclaimer

Lineup data is based on publicly available information at the time of import. Artist appearances, stages, or schedules may change at any time.

This app does not guarantee completeness or real-time updates. Always verify final schedules on the official Tomorrowland website.

---

## Privacy Philosophy

This project is built with a privacy-first mindset:

- No user accounts
- No analytics / tracking
- No cookies
- No external data storage
- All ratings and favorites stored locally on your device (IndexedDB)

Note:
The app is hosted on GitHub Pages. Like any web hosting provider, basic server logs (e.g. IP address, request time) may be generated by the hosting platform itself. The application does not access, process, or analyze these logs.

---

## Deployment

The app is designed for static hosting and works out of the box on:

- GitHub Pages
- Any static web server

## Build (optional, recommended for production)

This repo includes a minimal esbuild pipeline for production assets.

- Install deps: `npm install`
- Build: `npm run build`

Outputs:
- `dist/app.bundle.min.js`
- `dist/styles.min.css`

The HTML entry points reference the `/dist` assets in production.
`dist/` is ignored in git and is produced during CI deploys.

## GitHub Pages

Deployment is handled via GitHub Actions (Pages). The workflow builds and
publishes the full site bundle (including `/dist`) on each push to `main`.

---

## Artist Pages (SEO)

Artist detail pages are generated statically from the latest snapshot.
After updating snapshots, re-run the generator so links and sitemap stay in sync:

- PowerShell: `powershell -File scripts/generate-artist-pages.ps1`
- Node (local): `node scripts/generate-artist-pages.mjs`
- Node (repo scripts): `npm --prefix scripts run generate:artists`

You can override defaults via environment variables:
- `SITE_ORIGIN` (e.g. `https://festival-planner.org`)
- `FESTIVAL` (e.g. `tomorrowland`)
- `YEAR` (e.g. `2026`)

---

## Play Links Behavior

- Spotify:
  - Mobile: attempts deep link `spotify:search:<QUERY>` then falls back to web after ~700ms.
  - Desktop: opens web search directly.
- SoundCloud:
  - Web search only (deep links disabled for reliability).
- Apple Music / YouTube: web search.
- Optional clipboard: users can enable "Copy DJ name to clipboard" in the Play overlay; the setting is stored locally.
- On iOS/PWA, web links open in the same tab to avoid popup blocking.

---

## Daily Generation (optional)

If you want artist pages to refresh daily, you can use the existing GitHub Actions:
1) `snapshots.yml` (daily 06:15 UTC): updates snapshots, changes, artists, and regenerates artist pages.
2) `generate-artist-pages.yml` (manual): regenerates artist pages only.
3) `cleanup-data.yml` (manual): clears generated snapshot/change/artist data.

Privacy note: this is build-time automation only and does not add any tracking or analytics.

Example (pseudo-steps):
- run your snapshot update script (if applicable)
- run `scripts/generate-artist-pages.ps1` (or `.mjs`)
- commit changes and push

---

## Manual Smoke Checks

Use these quick checks after changes (especially Service Worker updates):

1) Online load
   - App loads without console errors.
   - Snapshot dropdown populates.
   - `/dist/app.bundle.min.js` and `/dist/styles.min.css` return 200.

2) Offline fallback
   - Open the app once, then go offline and refresh.
   - Shell loads and last visited content is available.

3) Update flow
   - Deploy a change.
   - Open the app again and confirm the "Update available" banner appears.
   - Click "Reload" to apply the update.

---

## Status and Roadmap

Current:
- Lineup browsing (W1 / W2)
- Local artist ratings (IndexedDB)
- Favorites view
- Import / export for local backups
- PWA install support
- German / English UI

Planned / Optional:
- Improved rating UX (segmented controls)
- Enhanced favorites and day planning
- Additional festivals and years
- Extended offline support

---

## Contributing and Feedback

Feedback, ideas, and issues are welcome via GitHub Issues.

This is a personal, experimental project built for real festival usage.

---

## License

This project is provided as-is for personal, non-commercial use. No warranty is provided.

Lineup data and artist names remain property of their respective owners.

---

Made for festival planning, not data collection.
Note: Vibe-coded with VS Code and GPT-5.2 Codex.
